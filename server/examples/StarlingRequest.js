const axios = require('axios');

// Access token provided by Starling OAuth transaction
const token = 'eyJhbGciOiJQUzI1NiJ9.eyJpc3MiOiJhcGktZGVtby5zdGFybGluZ2JhbmsuY29tIiwic3ViIjoiMjkxMzNhODctODBlMi00ZmVkLTk2MWItOTUxMmUyYTI4MGQ2IiwiZXhwIjoxNTczMjQzNzcwLCJpYXQiOjE1NzMxNTczNzAsInNjb3BlIjoiYWNjb3VudC1ob2xkZXItbmFtZTpyZWFkIGFjY291bnQtaG9sZGVyLXR5cGU6cmVhZCBhY2NvdW50LWlkZW50aWZpZXI6cmVhZCBhY2NvdW50LWxpc3Q6cmVhZCBhY2NvdW50OnJlYWQgYWRkcmVzczplZGl0IGFkZHJlc3M6cmVhZCBhdHRhY2htZW50OnJlYWQgYXR0YWNobWVudDp3cml0ZSBhdXRob3Jpc2luZy1pbmRpdmlkdWFsOnJlYWQgYmFsYW5jZTpyZWFkIGNhcmQtY29udHJvbDplZGl0IGNhcmQ6cmVhZCBjb25maXJtYXRpb24tb2YtZnVuZHM6cmVhZCBjdXN0b21lcjpyZWFkIGVtYWlsOmVkaXQgbWFuZGF0ZTpkZWxldGUgbWFuZGF0ZTpyZWFkIG1hcmtldGluZy1wcmVmZXJlbmNlczpyZWFkIG1hcmtldGluZy1wcmVmZXJlbmNlczp3cml0ZSBtZXJjaGFudDpyZWFkIG1ldGFkYXRhOmNyZWF0ZSBtZXRhZGF0YTplZGl0IHBheWVlOmNyZWF0ZSBwYXllZTpkZWxldGUgcGF5ZWU6ZWRpdCBwYXllZS1pbWFnZTpyZWFkIHBheWVlOnJlYWQgcGF5LWxvY2FsOmNyZWF0ZSBwYXktbG9jYWwtb25jZTpjcmVhdGUgcGF5LWxvY2FsOnJlYWQgcmVjZWlwdDpyZWFkIHJlY2VpcHRzOnJlYWQgcmVjZWlwdDp3cml0ZSBzYXZpbmdzLWdvYWw6Y3JlYXRlIHNhdmluZ3MtZ29hbDpkZWxldGUgc2F2aW5ncy1nb2FsOnJlYWQgc2F2aW5ncy1nb2FsLXRyYW5zZmVyOmNyZWF0ZSBzYXZpbmdzLWdvYWwtdHJhbnNmZXI6ZGVsZXRlIHNhdmluZ3MtZ29hbC10cmFuc2ZlcjpyZWFkIHN0YW5kaW5nLW9yZGVyOmNyZWF0ZSBzdGFuZGluZy1vcmRlcjpkZWxldGUgc3RhbmRpbmctb3JkZXI6cmVhZCBzdGF0ZW1lbnQtY3N2OnJlYWQgc3RhdGVtZW50LXBkZjpyZWFkIHRyYW5zYWN0aW9uOmVkaXQgdHJhbnNhY3Rpb246cmVhZCIsImFjY291bnRIb2xkZXJVaWQiOiJlMjMwZTEzOS02MmIxLTQwMjAtYmNjNy1mZmY0ZDU5YTIyZmEiLCJ0b2tlblVpZCI6IjEzMTkyYzgwLWMwYTctNGQ2ZC05MDIxLTJhZWY2ODczMzU0NiIsImFwaUFjY2Vzc1VpZCI6IjdjNjYwYmZkLWM4ZTQtNDJmYi1iYTFkLWZlN2E0YTFmMDdkMyJ9.Xj3Z8qMTT9908UzfZmXbSNPvwMBalZbTef_YOv3VO4hyLbDl8HDAndjk7xl1e-lwZScJVFiDLhiWCDNc7libUsNuOugZf-bWZtmHOQH7ND206Eu0Y5FU4D_XvvYZg7PD6seyfby0BN9AXzYoy81vVBpfTEDBGmzTrTqG3gUfinesL5ux9wttiqnkhZsd30wOSKgG21m0ohNJTp5lOAUOjPac7qWs7OZZURUGXDm_E3PY1DTp-hLJ-sLCcYGEQCpZXBFGRsOH00rCcKn2THtpfTePH0XMqmAbU_DCNZH81LDXuJos_jWVFNU7M2bCGIlHpCLSaUKG1aWNWXFQiSb0J1g1e5ndomKYsKgUxYbu75fYRR-22rpJ9VpqP24Ed_049HJwoeqmMTTY7AwY_93MPpIPvet1zXEaT_PL3R-bcsXV_yd1MxEyzsu_xexZtRgTWeFtsoYoCNMcQ_l1uf3jV8-3LbU8H6YfmJzFGB_NxrL1g6AWtHcsoLdIGDqSCQQDn0RRh70k61_PDQLz0eCtLd8us0B758Z8V9yO4saUN3JAFMkhHiy_eU7RACGsPcmPBrZpVL1DbwmvtaNXrFdE1raNzs70bPjRrbg0fDS2tEn98Jf6XjNkB0Q23A2pZT8bPKqlN5nVmsbcz6d7U0UTP82inXFKacN3QZtT91hHWXY';

async function getAccounts() {
  try {
    const response = await axios({
      method: 'GET',
      url: 'https://api-sandbox.starlingbank.com/api/v2/accounts',
      headers: {
        'Authorization': `Bearer ${token}`
      }
    });

    console.log(response);
  }
  catch (error) {
    console.error(error);
  }
}

getAccounts();